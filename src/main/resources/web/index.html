<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>服务器公告&补偿管理面板</title>
    <!-- Tailwind CSS 在线CDN（无需本地部署） -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome 图标CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Tailwind 自定义配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF', // 主题色（蓝）
                        success: '#00B42A', // 成功色
                        warning: '#FF7D00', // 警告色
                        danger: '#F53F3F',  // 危险色
                        dark: '#1D2129',    // 深色
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 登录页面 -->
    <div id="login-page" class="flex items-center justify-center min-h-screen">
        <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-6 md:p-8">
            <div class="text-center mb-6">
                <i class="fa fa-server text-primary text-4xl mb-2"></i>
                <h1 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark">服务器管理面板</h1>
                <p class="text-gray-500">请输入管理员账号密码登录</p>
            </div>
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="username">用户名</label>
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-user"></i>
                        </span>
                        <input type="text" id="username" name="username" 
                               class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition"
                               placeholder="请输入用户名" required>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="password">密码</label>
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-lock"></i>
                        </span>
                        <input type="password" id="password" name="password" 
                               class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition"
                               placeholder="请输入密码" required>
                    </div>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition flex items-center justify-center gap-2">
                    <i class="fa fa-sign-in"></i>
                    <span>登录</span>
                </button>
            </form>
            <div id="login-error" class="mt-4 text-danger text-sm text-center hidden"></div>
        </div>
    </div>

    <!-- 主面板（登录后显示） -->
    <div id="main-panel" class="hidden">
        <!-- 顶部导航 -->
        <header class="bg-white shadow-sm sticky top-0 z-10">
            <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <i class="fa fa-server text-primary text-xl"></i>
                    <h1 class="text-lg font-bold text-dark">服务器管理面板</h1>
                </div>
                <div class="flex items-center gap-4">
                    <span id="admin-name" class="text-gray-700"></span>
                    <button id="logout-btn" class="text-danger hover:text-danger/80 transition flex items-center gap-1">
                        <i class="fa fa-sign-out"></i>
                        <span>退出登录</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- 主体内容 -->
        <div class="container mx-auto px-4 py-6 flex flex-col md:flex-row gap-6">
            <!-- 侧边栏 -->
            <aside class="w-full md:w-64 bg-white rounded-lg shadow-sm p-4">
                <nav class="space-y-1">
                    <button class="nav-item active" data-target="announcement">
                        <i class="fa fa-bullhorn"></i>
                        <span>公告管理</span>
                    </button>
                    <button class="nav-item" data-target="compensation">
                        <i class="fa fa-gift"></i>
                        <span>补偿管理</span>
                    </button>
                    <button class="nav-item" data-target="whitelist">
                        <i class="fa fa-user-check"></i>
                        <span>白名单管理</span>
                    </button>
                    <button class="nav-item" data-target="log">
                        <i class="fa fa-history"></i>
                        <span>领取日志</span>
                    </button>
                </nav>
            </aside>

            <!-- 内容区域 -->
            <main class="flex-1 bg-white rounded-lg shadow-sm p-6">
                <!-- 公告管理模块 -->
                <div class="module" id="announcement">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-dark">公告管理</h2>
                        <button id="add-announcement-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition flex items-center gap-1">
                            <i class="fa fa-plus"></i>
                            <span>新增公告</span>
                        </button>
                    </div>

                    <!-- 公告列表 -->
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="border border-gray-200 px-4 py-2 text-left">ID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">公告名称</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">发送时间</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">创建时间</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">状态</th>
                                    <th class="border border-gray-200 px-4 py-2 text-center">操作</th>
                                </tr>
                            </thead>
                            <tbody id="announcement-list">
                                <!-- 动态渲染 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 补偿管理模块 -->
                <div class="module hidden" id="compensation">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-dark">补偿管理</h2>
                        <button id="add-compensation-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition flex items-center gap-1">
                            <i class="fa fa-plus"></i>
                            <span>新增补偿</span>
                        </button>
                    </div>

                    <!-- 补偿列表 -->
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="border border-gray-200 px-4 py-2 text-left">ID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">补偿名称</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">补偿说明</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">创建时间</th>
                                    <th class="border border-gray-200 px-4 py-2 text-center">操作</th>
                                </tr>
                            </thead>
                            <tbody id="compensation-list">
                                <!-- 动态渲染 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 白名单管理模块 -->
                <div class="module hidden" id="whitelist">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-dark">白名单管理</h2>
                        <div class="flex gap-3">
                            <div class="flex items-center gap-2">
                                <span>白名单状态：</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="whitelist-switch" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </label>
                            </div>
                            <button id="add-whitelist-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition flex items-center gap-1">
                                <i class="fa fa-plus"></i>
                                <span>添加白名单</span>
                            </button>
                        </div>
                    </div>

                    <!-- 白名单列表 -->
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="border border-gray-200 px-4 py-2 text-left">玩家UUID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">玩家名称</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">添加时间</th>
                                    <th class="border border-gray-200 px-4 py-2 text-center">操作</th>
                                </tr>
                            </thead>
                            <tbody id="whitelist-list">
                                <!-- 动态渲染 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 领取日志模块 -->
                <div class="module hidden" id="log">
                    <div class="mb-6">
                        <h2 class="text-xl font-bold text-dark">补偿领取日志</h2>
                        <p class="text-gray-500 mt-1">所有玩家的补偿领取记录（只读）</p>
                    </div>

                    <!-- 日志列表 -->
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="border border-gray-200 px-4 py-2 text-left">日志ID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">玩家名称</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">玩家UUID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">补偿ID</th>
                                    <th class="border border-gray-200 px-4 py-2 text-left">领取时间</th>
                                </tr>
                            </thead>
                            <tbody id="log-list">
                                <!-- 动态渲染 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 新增/编辑公告弹窗 -->
    <div id="announcement-modal" class="modal hidden">
        <div class="modal-content w-full max-w-lg">
            <div class="modal-header">
                <h3 class="text-lg font-bold" id="announcement-modal-title">新增公告</h3>
                <button class="modal-close"><i class="fa fa-times"></i></button>
            </div>
            <form id="announcement-form" class="modal-body space-y-4">
                <input type="hidden" id="announcement-id">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="announcement-name">公告名称</label>
                    <input type="text" id="announcement-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="请输入公告名称" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="announcement-content">公告内容</label>
                    <textarea id="announcement-content" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="支持&颜色符，如&a绿色&6黄色" required></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="announcement-send-time">定时发送时间</label>
                    <input type="datetime-local" id="announcement-send-time" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="留空则立即发送">
                    <p class="text-xs text-gray-500 mt-1">格式：yyyy-MM-dd HH:mm，留空表示立即发送</p>
                </div>
            </form>
            <div class="modal-footer">
                <button class="modal-cancel px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">取消</button>
                <button type="submit" form="announcement-form" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition">保存</button>
            </div>
        </div>
    </div>

    <!-- 新增/编辑补偿弹窗 -->
    <div id="compensation-modal" class="modal hidden">
        <div class="modal-content w-full max-w-lg">
            <div class="modal-header">
                <h3 class="text-lg font-bold" id="compensation-modal-title">新增补偿</h3>
                <button class="modal-close"><i class="fa fa-times"></i></button>
            </div>
            <form id="compensation-form" class="modal-body space-y-4">
                <input type="hidden" id="compensation-id">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="compensation-name">补偿名称</label>
                    <input type="text" id="compensation-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="请输入补偿名称" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="compensation-desc">补偿说明</label>
                    <textarea id="compensation-desc" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="支持&颜色符，如&6钻石*10" required></textarea>
                </div>
            </form>
            <div class="modal-footer">
                <button class="modal-cancel px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">取消</button>
                <button type="submit" form="compensation-form" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition">保存</button>
            </div>
        </div>
    </div>

    <!-- 添加白名单弹窗 -->
    <div id="whitelist-modal" class="modal hidden">
        <div class="modal-content w-full max-w-md">
            <div class="modal-header">
                <h3 class="text-lg font-bold">添加白名单</h3>
                <button class="modal-close"><i class="fa fa-times"></i></button>
            </div>
            <form id="whitelist-form" class="modal-body space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="whitelist-uuid">玩家UUID</label>
                    <input type="text" id="whitelist-uuid" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="请输入玩家UUID" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="whitelist-name">玩家名称</label>
                    <input type="text" id="whitelist-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition" placeholder="请输入玩家名称" required>
                </div>
            </form>
            <div class="modal-footer">
                <button class="modal-cancel px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">取消</button>
                <button type="submit" form="whitelist-form" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition">添加</button>
            </div>
        </div>
    </div>

    <!-- 提示弹窗 -->
    <div id="toast" class="fixed top-4 right-4 py-2 px-4 rounded-lg shadow-lg flex items-center gap-2 transform translate-x-full transition-all duration-300 z-50">
        <i id="toast-icon" class="fa"></i>
        <span id="toast-text"></span>
    </div>

    <!-- 前端逻辑 -->
    <script src="js/script.js"></script>
</body>
</html>